{"version":3,"sources":["images/head/__logo/head__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","utils/consts.js","contexts/CardsContext.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","headLogo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","useContext","pic","onClick","deletable","type","name","liked","likes","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","currentUser","desc","map","key","Footer","PopupWithForm","title","children","isOpen","buttonTitle","onClose","onSubmit","method","action","EditProfilePopup","props","useState","setName","setDesc","useEffect","event","preventDefault","onUpdateUser","value","onChange","target","id","minLength","maxLength","required","placeholder","EditAvatarPopup","picRef","useRef","onUpdatePic","current","ref","AddPlacePopup","setPic","onAddCard","ImagePopup","isSelected","api","baseUrl","headers","this","header","userUrl","cardUrl","likeUrl","userPicUrl","fetch","then","answer","ok","json","Promise","reject","status","body","JSON","stringify","about","avatar","link","isLiked","authorization","CardsContext","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","undefined","selectedCard","setSelectedCard","setIsSelected","setCurrentUser","setCards","closeAllPopups","all","getUserInfo","getCards","answers","_id","item","owner","some","catch","error","console","log","Provider","onDeletePlace","likeCard","deleteCard","filter","setUserPic","user","setUserInfo","setCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ae83e62e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/head__logo.ff16f24b.svg\";","import headLogo from \"../images/head/__logo/head__logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"head page__head\">\r\n      <img src={headLogo} alt=\"Место\" className=\"head__logo\"/>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({card, onCardClick, onCardDelete, onCardLike}) {\r\n  const currentUser = React.useContext(CurrentUserContext); \r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLike() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDelete() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"post\">\r\n      <figure className=\"post__box\">\r\n        <div className=\"post__frame\">\r\n          <img src={card.pic} alt=\"Изображение карточки\" className=\"post__figure\" onClick={handleClick}/>\r\n          <button className={`post__button-remove ${!card.deletable && \"post__button-remove_disable\"}`} type=\"button\" onClick={handleDelete}></button>\r\n        </div>\r\n        <figcaption className=\"post__caption\">\r\n          <h2 className=\"post__title\">{card.name}</h2>\r\n          <div className=\"post__like-holder\">\r\n            <button className={`post__button-like ${card.liked && \"post__button-like_active\"}`} type=\"button\" onClick={handleLike}></button>\r\n            <p className=\"post__like-count\">{card.likes.length}</p>\r\n          </div>\r\n        </figcaption>\r\n      </figure>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main page__main\">\r\n      <section className=\"who\">\r\n        <figure className=\"who__box\">\r\n          <img src={currentUser && currentUser.pic} alt=\"Аватар\" className=\"who__figure\"/>\r\n          <button className=\"who__figure-eddit\" type=\"button\" onClick={onEditAvatar}></button>\r\n          <figcaption className=\"who__caption\">\r\n            <div className=\"who__life-hacks\">\r\n              <h1 className=\"who__title\">{currentUser && currentUser.name}</h1>\r\n              <button className=\"who__button-eddit\" type=\"button\" onClick={onEditProfile}></button>\r\n            </div>\r\n            <p className=\"who__subtitle\">{currentUser && currentUser.desc}</p>\r\n          </figcaption>\r\n        </figure>\r\n        <button className=\"who__button-add\" type=\"button\" onClick={onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"posts page__posts\">\r\n        <ul className=\"posts__box\">\r\n          {\r\n            cards && cards.map(card => <Card key={card.key} card={card} onCardClick={onCardClick} onCardDelete={onCardDelete} onCardLike={onCardLike}/>)\r\n          }\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"foot page__foot\">\r\n      <h2 className=\"foot__author\">&copy; 2020 Mesto Russia</h2>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function PopupWithForm({name, title, children, isOpen, buttonTitle, onClose, onSubmit}) {\r\n  return (\r\n    <section className={`popup ${isOpen && \"popup_active\"}`}>\r\n      <div className=\"popup__box\">\r\n        <button className=\"popup__button-close\" type=\"button\" onClick={onClose}></button>\r\n          <form className=\"popup__form\" method=\"get\" action=\"index.js\" name={name} onSubmit={onSubmit}>\r\n            <h2 className=\"popup__title\">{title}</h2>\r\n            {children}\r\n            <button className=\"popup__button-save\" type=\"submit\">{buttonTitle}</button>\r\n          </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function EditProfilePopup({isOpen, onClose, ...props}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [desc, setDesc] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser ? currentUser.name : \"\");\r\n    setDesc(currentUser ? currentUser.desc : \"\");\r\n  }, [currentUser]);\r\n\r\n  function handleNameChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n  \r\n  function handleDescChange(event) {\r\n    setDesc(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      desc\r\n    });\r\n\r\n    onClose();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"who_form\" \r\n      title=\"Редактировать профиль\" \r\n      isOpen={isOpen}\r\n      buttonTitle=\"Сохранить\"\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}>\r\n      <input value={name} onChange={handleNameChange} id=\"who-title\" className=\"popup__input\" type=\"text\" name=\"who_title\" minLength=\"2\" maxLength=\"40\" required placeholder=\"Ваше имя\"/>\r\n      <span id=\"who-title-error\" className=\"popup__input-error\"></span>\r\n      <input value={desc} onChange={handleDescChange} id=\"who-subtitle\" className=\"popup__input\" type=\"text\" name=\"who_subtitle\" minLength=\"2\" maxLength=\"200\" required placeholder=\"Ваше призвание\"/>\r\n      <span id=\"who-subtitle-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup({isOpen, onClose, ...props}) {\r\n  const picRef = React.useRef();\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n  \r\n    props.onUpdatePic(picRef.current.value);\r\n    \r\n    onClose();\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"who_eddit_form\" \r\n      title=\"Обновить аватар\"\r\n      isOpen={isOpen}\r\n      buttonTitle=\"Сохранить\"\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}>\r\n      <input ref={picRef} id=\"who-image\" className=\"popup__input\" type=\"url\" name=\"who_image\" required placeholder=\"Ссылка на картинку\"/>\r\n      <span id=\"who-image-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup({isOpen, onClose, ...props}) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [pic, setPic] = React.useState(\"\");\r\n\r\n  function handleNameChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n  \r\n  function handlePicChange(event) {\r\n    setPic(event.target.value);\r\n  }\r\n\r\n  function handleAddPlaceSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onAddCard({\r\n      name,\r\n      pic\r\n    });\r\n\r\n    onClose();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"post_form\" \r\n      title=\"Новое место\" \r\n      isOpen={isOpen}\r\n      buttonTitle=\"Сохранить\"\r\n      onClose={onClose}\r\n      onSubmit={handleAddPlaceSubmit}>\r\n      <input id=\"post-title\" onChange={handleNameChange} className=\"popup__input\" type=\"text\" name=\"post_title\"  minLength=\"2\" maxLength=\"30\" required placeholder=\"Название\"/>\r\n      <span id=\"post-title-error\" className=\"popup__input-error\"></span>\r\n      <input id=\"post-image\" onChange={handlePicChange} className=\"popup__input\" type=\"url\" name=\"post_image\" required placeholder=\"Ссылка на картинку\"/>\r\n      <span id=\"post-image-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}","function ImagePopup({card, isSelected, onClose}) {\r\n\r\n  return (\r\n    <section className={`popup ${isSelected && \"popup_active\"}`}>\r\n      <div className=\"popup__image-box\">\r\n        <button className=\"popup__button-close\" type=\"button\" onClick={onClose}></button>\r\n        <figure className=\"popup__caption\">\r\n          <img src={card && card.pic} alt=\"Изображение карточки\" className=\"popup__figure\"/>\r\n          <figcaption className=\"popup__caption\">\r\n            <h2 className=\"popup__caption-title\">{card && card.name}</h2>\r\n          </figcaption>\r\n        </figure>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import {apiConfig} from \"./consts\";\r\n\r\nclass Api {\r\n  constructor({baseUrl, headers}) {\r\n    this.baseUrl = baseUrl;\r\n    this.header = headers;\r\n    this.userUrl = baseUrl + \"/users/me\";\r\n    this.cardUrl = baseUrl + \"/cards\";\r\n    this.likeUrl = baseUrl + \"/cards/likes\";\r\n    this.userPicUrl = baseUrl + \"/users/me/avatar\";\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this.userUrl, {headers: this.header})\r\n    .then(answer => {\r\n      if (answer.ok) {\r\n        return answer.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${answer.status}`);\r\n    });\r\n  }\r\n\r\n  setUserInfo({name, desc}) {\r\n    return fetch(this.userUrl, {\r\n      method: 'PATCH',\r\n      headers: this.header,\r\n      body: JSON.stringify({\r\n        name,\r\n        about: desc\r\n      })\r\n    })\r\n    .then(answer => {\r\n      if (answer.ok) {\r\n        return answer.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${answer.status}`);\r\n    });\r\n  }\r\n\r\n  setUserPic(pic) {\r\n    return fetch(this.userPicUrl, {\r\n      method: 'PATCH',\r\n      headers: this.header,\r\n      body: JSON.stringify({\r\n        avatar: pic\r\n      })\r\n    })\r\n    .then(answer => {\r\n      if (answer.ok) {\r\n        return answer.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${answer.status}`);\r\n    });\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(this.cardUrl, {headers: this.header})\r\n      .then(answer => {\r\n        if (answer.ok) {\r\n          return answer.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${answer.status}`);\r\n      });\r\n  }\r\n\r\n  setCard(name, pic) {\r\n    return fetch(this.cardUrl, {\r\n      method: 'POST',\r\n      headers: this.header,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: pic\r\n      })\r\n    })\r\n    .then(answer => {\r\n      if (answer.ok) {\r\n        return answer.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${answer.status}`);\r\n    });\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(this.cardUrl + \"/\" + id, {\r\n      method: 'DELETE',\r\n      headers: this.header\r\n    })\r\n    .then(answer => {\r\n      if (answer.ok) {\r\n        return answer.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${answer.status}`);\r\n    });\r\n  }\r\n\r\n  likeCard(id, isLiked) {\r\n    return fetch(this.likeUrl + \"/\" + id, {\r\n      method: !isLiked ? 'PUT' : 'DELETE',\r\n      headers: this.header\r\n    })\r\n    .then(answer => {\r\n      if (answer.ok) {\r\n        return answer.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${answer.status}`);\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api(apiConfig);\r\n\r\nexport default api;","export const validationConfig = {\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__button-save',\r\n  inactiveButtonClass: 'popup__button-save_inactive',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__input-error_active'\r\n}\r\n\r\nexport const saveStates = {\r\n    saved: \"Сохранить\",\r\n    saving: \"Сохранение...\"\r\n  }\r\n\r\nexport const userConfgig = {\r\n  titleSelector: \".who__title\", \r\n  subtitleSelector: \".who__subtitle\", \r\n  figureSelector: \".who__figure\",\r\n}\r\n\r\nexport const userPopupConfgig = {\r\n  selector: \"#who-eddit-popup\", \r\n  openSelector: \".who__figure\",  \r\n}\r\n\r\nexport const postPopupConfgig = {\r\n  selector: \"#post-popup\", \r\n  openSelector: \".who__button-add\",  \r\n}\r\n\r\nexport const postDeletePopupConfgig = {\r\n  selector: \"#image-delete-popup\", \r\n  openSelector: \".post__button-remove\",  \r\n}\r\n\r\nexport const whoPopupConfgig = {\r\n  selector: \"#who-popup\", \r\n  openSelector: \".who__button-eddit\",  \r\n}\r\n\r\nexport const listnersConfig = {\r\n  openEditFormButton: \".who__button-eddit\",\r\n  openAddFormButton: \".who__button-add\",\r\n  openFigureEdditFormButton: \".who__figure-eddit\",\r\n}\r\n\r\nexport const postSelectot = \"#post\";\r\nexport const imagePopupSelector = \"#image-popup\";\r\n\r\nexport const apiConfig = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-18',\r\n  headers: {\r\n    authorization: '0b2a6fdf-1704-45fb-a35d-1d4f050e76e7',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\nexport const additionalPopupSelectors = {\r\n    popup: \"popup\",\r\n    activePopup: \"popup_active\",\r\n    deletePopup: \"#image-delete-popup\"\r\n}\r\n\r\nexport const figureAlt = \"Изображение\";\r\n\r\nexport const cardsContainer = \".posts__box\";","import React from \"react\";\r\n\r\nexport const CardsContext = React.createContext();","import React from 'react';\r\nimport '../index.css';\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\nimport {CardsContext} from \"../contexts/CardsContext\";\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(undefined);\r\n  const [isSelected, setIsSelected] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState();\r\n  const [cards, setCards] = React.useState();\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  \r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  \r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setIsSelected(true);\r\n    setSelectedCard(card);\r\n  }\r\n  \r\n  function handleDeletePlaceClick() {\r\n    setIsDeletePlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsDeletePlacePopupOpen(false);\r\n    setIsSelected(false);\r\n  }\r\n\r\n  function handleUpdateUser(user) {\r\n    api.setUserInfo(user)\r\n      .then((answer) => {\r\n        setCurrentUser({\r\n          key: answer._id,\r\n          name: answer.name,\r\n          desc: answer.about,\r\n          pic: answer.avatar\r\n        });\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(pic) {\r\n    api.setUserPic(pic)\r\n      .then((answer) => {\r\n        setCurrentUser({\r\n          key: answer._id,\r\n          name: answer.name,\r\n          desc: answer.about,\r\n          pic: answer.avatar\r\n        });\r\n      });\r\n  }\r\n\r\n  function handleAddCard({name, pic}) {\r\n    api.setCard(name, pic)\r\n      .then((answer) => {\r\n          setCards([{\r\n            key: answer._id,\r\n            name: answer.name,\r\n            pic: answer.link,\r\n            likes: answer.likes,\r\n            owner: answer.owner._id,\r\n            deletable: currentUser.key === answer.owner._id,\r\n            liked: answer.likes.some(item => item._id === currentUser.key)\r\n          }, ...cards]);\r\n      });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    api.likeCard(card.key, card.liked)\r\n      .then(answer => {\r\n        setCards(cards.map(item => {\r\n          return item.key === answer._id ? {\r\n            key: answer._id,\r\n            name: answer.name,\r\n            pic: answer.link,\r\n            likes: answer.likes,\r\n            owner: answer.owner._id,\r\n            deletable: answer._id === currentUser.key,\r\n            liked: answer.likes.some(item => item._id === currentUser.key)\r\n          } : item;\r\n        }));\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card.key)\r\n      .then(answer => {\r\n        setCards(cards.filter(item => {\r\n          return item.key !== card.key;\r\n        }));\r\n      });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getCards()])\r\n      .then(answers => {\r\n        setCurrentUser({\r\n          key: answers[0]._id,\r\n          name: answers[0].name,\r\n          desc: answers[0].about,\r\n          pic: answers[0].avatar\r\n        });\r\n\r\n        setCards(answers[1].map((item) => {\r\n          return ({\r\n            key: item._id,\r\n            name: item.name,\r\n            pic: item.link,\r\n            likes: item.likes,\r\n            owner: item.owner._id,\r\n            deletable: answers[0]._id === item.owner._id,\r\n            liked: item.likes.some(item => item._id === answers[0]._id)\r\n          });\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        setCurrentUser({\r\n          key: \"0\",\r\n          name: \"BIG BADABOOM\",\r\n          desc: \"SORRY, BUT WE HAVE SOME TROUBLES.\",\r\n          pic: \"https://s5o.ru/storage/simple/cyber/edt/d1/d9/85/c0/cyberea2fce3ee29.jpg\"\r\n        });\r\n        setCards([]);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <CardsContext.Provider value={cards}>\r\n        <div className=\"page\">\r\n          <div className=\"page__box\">\r\n                <Header/>\r\n                <Main \r\n                  onEditAvatar={handleEditAvatarClick} \r\n                  onEditProfile={handleEditProfileClick} \r\n                  onAddPlace={handleAddPlaceClick} \r\n                  onDeletePlace={handleDeletePlaceClick} \r\n                  onCardClick={handleCardClick} \r\n                  setCards={setCards}\r\n                  cards={cards}\r\n                  onCardLike={handleCardLike}\r\n                  onCardDelete={handleCardDelete}/>\r\n                <Footer/>\r\n          </div>\r\n\r\n          <EditAvatarPopup \r\n            isOpen={isEditAvatarPopupOpen} \r\n            onClose={closeAllPopups}\r\n            onUpdatePic={handleUpdateAvatar}/> \r\n\r\n          <EditProfilePopup \r\n            isOpen={isEditProfilePopupOpen} \r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}/> \r\n\r\n          <AddPlacePopup \r\n            isOpen={isAddPlacePopupOpen} \r\n            onClose={closeAllPopups}\r\n            onAddCard={handleAddCard}/> \r\n\r\n          <PopupWithForm\r\n            name=\"post_form\" \r\n            title=\"Вы уверены?\" \r\n            isOpen={isDeletePlacePopupOpen}\r\n            buttonTitle=\"Да\"\r\n            onClose={closeAllPopups}/>\r\n      \r\n          <ImagePopup\r\n            card={selectedCard}\r\n            isSelected={isSelected}\r\n            onClose={closeAllPopups}\r\n          />\r\n        </div>\r\n      </CardsContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}