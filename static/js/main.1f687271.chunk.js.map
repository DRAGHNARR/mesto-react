{"version":3,"sources":["images/head/__logo/head__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","utils/consts.js","contexts/CardsContext.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","headLogo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","currentUser","useContext","link","onClick","key","owner","_id","type","name","likes","some","item","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","pic","desc","map","Footer","PopupWithForm","title","children","isOpen","buttonTitle","onClose","onSubmit","method","action","EditProfilePopup","props","useState","setName","setDesc","useEffect","event","preventDefault","onUpdateUser","value","onChange","target","id","minLength","maxLength","required","placeholder","EditAvatarPopup","picRef","useRef","onUpdatePic","current","ref","AddPlacePopup","setPic","onAddCard","ImagePopup","isSelected","api","baseUrl","headers","this","header","userUrl","cardUrl","likeUrl","userPicUrl","fetch","then","response","ok","json","Promise","reject","status","body","JSON","stringify","about","avatar","isLiked","authorization","CardsContext","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","undefined","selectedCard","setSelectedCard","setIsSelected","setCurrentUser","setCards","closeAllPopups","all","getUserInfo","getCards","catch","error","console","log","Provider","onDeletePlace","likeCard","deleteCard","filter","setUserPic","user","setUserInfo","setCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kLAAe,MAA0B,uC,OCU1BA,MARf,WACE,OACE,wBAAQC,UAAU,kBAAlB,SACE,qBAAKC,IAAKC,EAAUC,IAAI,iCAAQH,UAAU,kBCHnCI,EAAqBC,IAAMC,gBCmCzBC,MAlCf,YAA8D,IAA/CC,EAA8C,EAA9CA,KAAMC,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,aAAcC,EAAa,EAAbA,WACxCC,EAAcP,IAAMQ,WAAWT,GAcrC,OACE,oBAAIJ,UAAU,OAAd,SACE,yBAAQA,UAAU,YAAlB,UACE,sBAAKA,UAAU,cAAf,UACE,qBAAKC,IAAKO,EAAKM,KAAMX,IAAI,sHAAuBH,UAAU,eAAee,QAhBjF,WACEN,EAAYD,MAgBN,wBAAQR,UAAS,gCAA2BY,EAAYI,MAAQR,EAAKS,MAAMC,MAAQ,+BAAiCC,KAAK,SAASJ,QAT1I,WACEL,EAAaF,SAUT,6BAAYR,UAAU,gBAAtB,UACE,oBAAIA,UAAU,cAAd,SAA6BQ,EAAKY,OAClC,sBAAKpB,UAAU,oBAAf,UACE,wBAAQA,UAAS,4BAAuBQ,EAAKa,MAAMC,MAAK,SAAAC,GAAI,OAAIX,EAAYI,MAAQO,EAAKL,QAAQ,4BAA8BC,KAAK,SAASJ,QAlBvJ,WACEJ,EAAWH,MAkBH,mBAAGR,UAAU,mBAAb,SAAiCQ,EAAKa,MAAMG,qBCMzCC,MA/Bf,YAAwG,IAAzFC,EAAwF,EAAxFA,aAAcC,EAA0E,EAA1EA,cAAeC,EAA2D,EAA3DA,WAAYnB,EAA+C,EAA/CA,YAAaoB,EAAkC,EAAlCA,MAAOlB,EAA2B,EAA3BA,WAAYD,EAAe,EAAfA,aAChFE,EAAcP,IAAMQ,WAAWT,GAErC,OACE,uBAAMJ,UAAU,kBAAhB,UACE,0BAASA,UAAU,MAAnB,UACE,yBAAQA,UAAU,WAAlB,UACE,qBAAKC,IAAKW,GAAeA,EAAYkB,IAAK3B,IAAI,uCAASH,UAAU,gBACjE,wBAAQA,UAAU,oBAAoBmB,KAAK,SAASJ,QAASW,IAC7D,6BAAY1B,UAAU,eAAtB,UACE,sBAAKA,UAAU,kBAAf,UACE,oBAAIA,UAAU,aAAd,SAA4BY,GAAeA,EAAYQ,OACvD,wBAAQpB,UAAU,oBAAoBmB,KAAK,SAASJ,QAASY,OAE/D,mBAAG3B,UAAU,gBAAb,SAA8BY,GAAeA,EAAYmB,aAG7D,wBAAQ/B,UAAU,kBAAkBmB,KAAK,SAASJ,QAASa,OAG7D,yBAAS5B,UAAU,oBAAnB,SACE,oBAAIA,UAAU,aAAd,SAEI6B,GAASA,EAAMG,KAAI,SAAAxB,GAAI,OAAI,cAAC,EAAD,CAAqBA,KAAMA,EAAMC,YAAaA,EAAaC,aAAcA,EAAcC,WAAYA,GAAxFH,EAAKU,gBCnBxCe,MARf,WACE,OACE,wBAAQjC,UAAU,kBAAlB,SACE,oBAAIA,UAAU,eAAd,uCCYSkC,MAff,YAAyF,IAAjEd,EAAgE,EAAhEA,KAAMe,EAA0D,EAA1DA,MAAOC,EAAmD,EAAnDA,SAAUC,EAAyC,EAAzCA,OAAQC,EAAiC,EAAjCA,YAAaC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,SAC3E,OACE,yBAASxC,UAAS,gBAAWqC,GAAU,gBAAvC,SACE,sBAAKrC,UAAU,aAAf,UACE,wBAAQA,UAAU,sBAAsBmB,KAAK,SAASJ,QAASwB,IAC7D,uBAAMvC,UAAU,cAAcyC,OAAO,MAAMC,OAAO,WAAWtB,KAAMA,EAAMoB,SAAUA,EAAnF,UACE,oBAAIxC,UAAU,eAAd,SAA8BmC,IAC7BC,EACD,wBAAQpC,UAAU,qBAAqBmB,KAAK,SAA5C,SAAsDmB,a,OCJnD,SAASK,EAAT,GAAwD,IAA7BN,EAA4B,EAA5BA,OAAQE,EAAoB,EAApBA,QAAYK,EAAQ,oCAC9DhC,EAAcP,IAAMQ,WAAWT,GAD+B,EAE5CC,IAAMwC,SAAS,IAF6B,mBAE7DzB,EAF6D,KAEvD0B,EAFuD,OAG5CzC,IAAMwC,SAAS,IAH6B,mBAG7Dd,EAH6D,KAGvDgB,EAHuD,KA2BpE,OAtBA1C,IAAM2C,WAAU,WACdF,EAAQlC,EAAcA,EAAYQ,KAAO,IACzC2B,EAAQnC,EAAcA,EAAYmB,KAAO,MACxC,CAACnB,IAoBF,eAAC,EAAD,CACEQ,KAAK,WACLe,MAAM,4HACNE,OAAQA,EACRC,YAAY,yDACZC,QAASA,EACTC,SAhBJ,SAAsBS,GACpBA,EAAMC,iBAENN,EAAMO,aAAa,CACjB/B,OACAW,UAKF,UAOE,uBAAOqB,MAAOhC,EAAMiC,SAzBxB,SAA0BJ,GACxBH,EAAQG,EAAMK,OAAOF,QAwB6BG,GAAG,YAAYvD,UAAU,eAAemB,KAAK,OAAOC,KAAK,YAAYoC,UAAU,IAAIC,UAAU,KAAKC,UAAQ,EAACC,YAAY,gDACvK,sBAAMJ,GAAG,kBAAkBvD,UAAU,uBACrC,uBAAOoD,MAAOrB,EAAMsB,SAvBxB,SAA0BJ,GACxBF,EAAQE,EAAMK,OAAOF,QAsB6BG,GAAG,eAAevD,UAAU,eAAemB,KAAK,OAAOC,KAAK,eAAeoC,UAAU,IAAIC,UAAU,MAAMC,UAAQ,EAACC,YAAY,oFAC9K,sBAAMJ,GAAG,qBAAqBvD,UAAU,0BCvC/B,SAAS4D,EAAT,GAAuD,IAA7BvB,EAA4B,EAA5BA,OAAQE,EAAoB,EAApBA,QAAYK,EAAQ,oCAC7DiB,EAASxD,IAAMyD,SAUrB,OACE,eAAC,EAAD,CACE1C,KAAK,iBACLe,MAAM,wFACNE,OAAQA,EACRC,YAAY,yDACZC,QAASA,EACTC,SAfJ,SAAsBS,GACpBA,EAAMC,iBAENN,EAAMmB,YAAYF,EAAOG,QAAQZ,OAEjCS,EAAOG,QAAQZ,MAAQ,IAIvB,UAOE,uBAAOa,IAAKJ,EAAQN,GAAG,YAAYvD,UAAU,eAAemB,KAAK,MAAMC,KAAK,YAAYsC,UAAQ,EAACC,YAAY,uGAC7G,sBAAMJ,GAAG,kBAAkBvD,UAAU,0BCpB5B,SAASkE,EAAT,GAAqD,IAA7B7B,EAA4B,EAA5BA,OAAQE,EAAoB,EAApBA,QAAYK,EAAQ,sCACzCvC,IAAMwC,SAAS,IAD0B,mBAC1DzB,EAD0D,KACpD0B,EADoD,OAE3CzC,IAAMwC,SAAS,IAF4B,mBAE1Df,EAF0D,KAErDqC,EAFqD,KAwBjE,OACE,eAAC,EAAD,CACE/C,KAAK,YACLe,MAAM,gEACNE,OAAQA,EACRC,YAAY,yDACZC,QAASA,EACTC,SAnBJ,SAA8BS,GAC5BA,EAAMC,iBAENN,EAAMwB,UAAU,CACdhD,OACAU,QAGFgB,EAAQ,IACRqB,EAAO,KAIP,UAOE,uBAAOf,MAAOhC,EAAMmC,GAAG,aAAaF,SA5BxC,SAA0BJ,GACxBH,EAAQG,EAAMK,OAAOF,QA2B6CpD,UAAU,eAAemB,KAAK,OAAOC,KAAK,aAAcoC,UAAU,IAAIC,UAAU,KAAKC,UAAQ,EAACC,YAAY,qDAC1K,sBAAMJ,GAAG,mBAAmBvD,UAAU,uBACtC,uBAAOoD,MAAOtB,EAAKyB,GAAG,aAAaF,SA1BvC,SAAyBJ,GACvBkB,EAAOlB,EAAMK,OAAOF,QAyB4CpD,UAAU,eAAemB,KAAK,MAAMC,KAAK,aAAasC,UAAQ,EAACC,YAAY,uGACzI,sBAAMJ,GAAG,mBAAmBvD,UAAU,0BCrB7BqE,MAjBf,YAAkD,IAA7B7D,EAA4B,EAA5BA,KAAM8D,EAAsB,EAAtBA,WAAY/B,EAAU,EAAVA,QAErC,OACE,yBAASvC,UAAS,gBAAWsE,GAAc,gBAA3C,SACE,sBAAKtE,UAAU,mBAAf,UACE,wBAAQA,UAAU,sBAAsBmB,KAAK,SAASJ,QAASwB,IAC/D,yBAAQvC,UAAU,iBAAlB,UACE,qBAAKC,IAAKO,GAAQA,EAAKM,KAAMX,IAAI,sHAAuBH,UAAU,kBAClE,4BAAYA,UAAU,iBAAtB,SACE,oBAAIA,UAAU,uBAAd,SAAsCQ,GAAQA,EAAKY,kB,eCsGhDmD,EAFH,I,WA1GV,cAAiC,IAApBC,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,QAAU,oBAC9BC,KAAKF,QAAUA,EACfE,KAAKC,OAASF,EACdC,KAAKE,QAAUJ,EAAU,YACzBE,KAAKG,QAAUL,EAAU,SACzBE,KAAKI,QAAUN,EAAU,eACzBE,KAAKK,WAAaP,EAAU,mB,+CAG9B,WACE,OAAOQ,MAAMN,KAAKE,QAAS,CAACH,QAASC,KAAKC,SACzCM,MAAK,SAAAC,GACJ,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAR,gDAA0BJ,EAASK,c,yBAI9C,YAA2B,IAAdnE,EAAa,EAAbA,KAAMW,EAAO,EAAPA,KACjB,OAAOiD,MAAMN,KAAKE,QAAS,CACzBnC,OAAQ,QACRgC,QAASC,KAAKC,OACda,KAAMC,KAAKC,UAAU,CACnBtE,OACAuE,MAAO5D,MAGVkD,MAAK,SAAAC,GACJ,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAR,gDAA0BJ,EAASK,c,wBAI9C,SAAWzD,GACT,OAAOkD,MAAMN,KAAKK,WAAY,CAC5BtC,OAAQ,QACRgC,QAASC,KAAKC,OACda,KAAMC,KAAKC,UAAU,CACnBE,OAAQ9D,MAGXmD,MAAK,SAAAC,GACJ,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAR,gDAA0BJ,EAASK,c,sBAI9C,WACE,OAAOP,MAAMN,KAAKG,QAAS,CAACJ,QAASC,KAAKC,SACvCM,MAAK,SAAAC,GACJ,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAR,gDAA0BJ,EAASK,c,qBAIhD,SAAQnE,EAAMU,GACZ,OAAOkD,MAAMN,KAAKG,QAAS,CACzBpC,OAAQ,OACRgC,QAASC,KAAKC,OACda,KAAMC,KAAKC,UAAU,CACnBtE,KAAMA,EACNN,KAAMgB,MAGTmD,MAAK,SAAAC,GACJ,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAR,gDAA0BJ,EAASK,c,wBAI9C,SAAWhC,GACT,OAAOyB,MAAMN,KAAKG,QAAU,IAAMtB,EAAI,CACpCd,OAAQ,SACRgC,QAASC,KAAKC,SAEfM,MAAK,SAAAC,GACJ,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAR,gDAA0BJ,EAASK,c,sBAI9C,SAAShC,EAAIsC,GACX,OAAOb,MAAMN,KAAKI,QAAU,IAAMvB,EAAI,CACpCd,OAASoD,EAAkB,SAAR,MACnBpB,QAASC,KAAKC,SAEfM,MAAK,SAAAC,GACJ,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAR,gDAA0BJ,EAASK,gB,KAKpC,CC5Da,CACvBf,QAAS,8CACTC,QAAS,CACPqB,cAAe,uCACf,eAAgB,sBCnDPC,EAAe1F,IAAMC,gBC8MnB0F,MAlMf,WAAgB,IAAD,EAC6C3F,IAAMwC,UAAS,GAD5D,mBACNoD,EADM,KACiBC,EADjB,OAE+C7F,IAAMwC,UAAS,GAF9D,mBAENsD,EAFM,KAEkBC,EAFlB,OAGyC/F,IAAMwC,UAAS,GAHxD,mBAGNwD,EAHM,KAGeC,EAHf,OAI+CjG,IAAMwC,UAAS,GAJ9D,mBAIN0D,EAJM,KAIkBC,EAJlB,OAK2BnG,IAAMwC,cAAS4D,GAL1C,mBAKNC,EALM,KAKQC,EALR,OAMuBtG,IAAMwC,UAAS,GANtC,mBAMNyB,EANM,KAMMsC,EANN,OAOyBvG,IAAMwC,WAP/B,mBAONjC,EAPM,KAOOiG,EAPP,OAQaxG,IAAMwC,WARnB,mBAQNhB,EARM,KAQCiF,EARD,KA+Bb,SAASC,IACPb,GAAyB,GACzBE,GAA0B,GAC1BE,GAAuB,GACvBE,GAA0B,GAC1BI,GAAc,GA0GhB,OAvBAvG,IAAM2C,WAAU,WACdqC,QAAQ2B,IAAI,CAACzC,EAAI0C,cAAe1C,EAAI2C,aACjCjC,MAAK,SAAAC,GACJ2B,EAAe,CACb7F,IAAKkE,EAAS,GAAGhE,IACjBE,KAAM8D,EAAS,GAAG9D,KAClBW,KAAMmD,EAAS,GAAGS,MAClB7D,IAAKoD,EAAS,GAAGU,SAEnBkB,EAAS5B,EAAS,OAEnBiC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZP,EAAe,CACb7F,IAAK,IACLI,KAAM,eACNW,KAAM,oCACND,IAAK,6EAEPgF,EAAS,SAEZ,IAGD,cAAC1G,EAAmBmH,SAApB,CAA6BnE,MAAOxC,EAApC,SACE,cAACmF,EAAawB,SAAd,CAAuBnE,MAAOvB,EAA9B,SACE,sBAAK7B,UAAU,OAAf,UACE,sBAAKA,UAAU,YAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACE0B,aA3IZ,WACEwE,GAAyB,IA2IfvE,cAxIZ,WACEyE,GAA0B,IAwIhBxE,WArIZ,WACE0E,GAAuB,IAqIbkB,cA7HZ,WACEhB,GAA0B,IA6HhB/F,YAnIZ,SAAyBD,GACvBoG,GAAc,GACdD,EAAgBnG,IAkINsG,SAAUA,EACVjF,MAAOA,EACPlB,WA9DZ,SAAwBH,GACtB+D,EAAIkD,SAASjH,EAAKU,IAAKV,EAAKa,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKL,MAAQN,EAAYI,QACrEiE,MAAK,SAAAC,GACJ4B,EAASjF,EAAMG,KAAI,SAAAT,GACjB,OAAOA,EAAKL,MAAQgE,EAAShE,IAAMgE,EAAW3D,SAGjD4F,OAAM,SAAAC,GACLC,QAAQC,IAAIF,OAuDN1G,aAnDZ,SAA0BF,GACxB+D,EAAImD,WAAWlH,EAAKU,KACjB+D,MAAK,SAAAC,GACJ4B,EAASjF,EAAM8F,QAAO,SAAApG,GACpB,OAAOA,EAAKL,MAAQV,EAAKU,QAE3B6F,OAEDI,OAAM,SAAAC,GACLC,QAAQC,IAAIF,SA2CR,cAAC,EAAD,OAGF,cAACxD,EAAD,CACEvB,OAAQ4D,EACR1D,QAASwE,EACThD,YAvGV,SAA4BjC,GAC1ByC,EAAIqD,WAAW9F,GACZmD,MAAK,SAACC,GACL2B,EAAe,CACb7F,IAAKkE,EAAShE,IACdE,KAAM8D,EAAS9D,KACfW,KAAMmD,EAASS,MACf7D,IAAKoD,EAASU,SAEhBmB,OAEDI,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZP,EAAe,CACb7F,IAAK,IACLI,KAAM,eACNW,KAAM,oCACND,IAAK,mFAwFL,cAACa,EAAD,CACEN,OAAQ8D,EACR5D,QAASwE,EACT5D,aAlIV,SAA0B0E,GACxBtD,EAAIuD,YAAYD,GACb5C,MAAK,SAACC,GACL2B,EAAe,CACb7F,IAAKkE,EAAShE,IACdE,KAAM8D,EAAS9D,KACfW,KAAMmD,EAASS,MACf7D,IAAKoD,EAASU,SAEhBmB,OAEDI,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZP,EAAe,CACb7F,IAAK,IACLI,KAAM,eACNW,KAAM,oCACND,IAAK,mFAmHL,cAACoC,EAAD,CACE7B,OAAQgE,EACR9D,QAASwE,EACT3C,UA3FV,YAAqC,IAAbhD,EAAY,EAAZA,KAAMU,EAAM,EAANA,IAC5ByC,EAAIwD,QAAQ3G,EAAMU,GACfmD,MAAK,SAACC,GACH4B,EAAS,CAAC5B,GAAF,mBAAerD,KACvBkF,OAEHI,OAAM,SAAAC,GACLC,QAAQC,IAAIF,SAsFV,cAAC,EAAD,CACEhG,KAAK,YACLe,MAAM,2DACNE,OAAQkE,EACRjE,YAAY,eACZC,QAASwE,IAEX,cAAC,EAAD,CACEvG,KAAMkG,EACNpC,WAAYA,EACZ/B,QAASwE,YC5LNiB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBjD,MAAK,YAAkD,IAA/CkD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.1f687271.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/head__logo.ff16f24b.svg\";","import headLogo from \"../images/head/__logo/head__logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"head page__head\">\r\n      <img src={headLogo} alt=\"Место\" className=\"head__logo\"/>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({card, onCardClick, onCardDelete, onCardLike}) {\r\n  const currentUser = React.useContext(CurrentUserContext); \r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLike() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDelete() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"post\">\r\n      <figure className=\"post__box\">\r\n        <div className=\"post__frame\">\r\n          <img src={card.link} alt=\"Изображение карточки\" className=\"post__figure\" onClick={handleClick}/>\r\n          <button className={`post__button-remove ${!(currentUser.key === card.owner._id) && \"post__button-remove_disable\"}`} type=\"button\" onClick={handleDelete}></button>\r\n        </div>\r\n        <figcaption className=\"post__caption\">\r\n          <h2 className=\"post__title\">{card.name}</h2>\r\n          <div className=\"post__like-holder\">\r\n            <button className={`post__button-like ${card.likes.some(item => currentUser.key === item._id) && \"post__button-like_active\"}`} type=\"button\" onClick={handleLike}></button>\r\n            <p className=\"post__like-count\">{card.likes.length}</p>\r\n          </div>\r\n        </figcaption>\r\n      </figure>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main page__main\">\r\n      <section className=\"who\">\r\n        <figure className=\"who__box\">\r\n          <img src={currentUser && currentUser.pic} alt=\"Аватар\" className=\"who__figure\"/>\r\n          <button className=\"who__figure-eddit\" type=\"button\" onClick={onEditAvatar}></button>\r\n          <figcaption className=\"who__caption\">\r\n            <div className=\"who__life-hacks\">\r\n              <h1 className=\"who__title\">{currentUser && currentUser.name}</h1>\r\n              <button className=\"who__button-eddit\" type=\"button\" onClick={onEditProfile}></button>\r\n            </div>\r\n            <p className=\"who__subtitle\">{currentUser && currentUser.desc}</p>\r\n          </figcaption>\r\n        </figure>\r\n        <button className=\"who__button-add\" type=\"button\" onClick={onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"posts page__posts\">\r\n        <ul className=\"posts__box\">\r\n          {\r\n            cards && cards.map(card => <Card key={card._id} card={card} onCardClick={onCardClick} onCardDelete={onCardDelete} onCardLike={onCardLike}/>)\r\n          }\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"foot page__foot\">\r\n      <h2 className=\"foot__author\">&copy; 2020 Mesto Russia</h2>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function PopupWithForm({name, title, children, isOpen, buttonTitle, onClose, onSubmit}) {\r\n  return (\r\n    <section className={`popup ${isOpen && \"popup_active\"}`}>\r\n      <div className=\"popup__box\">\r\n        <button className=\"popup__button-close\" type=\"button\" onClick={onClose}></button>\r\n          <form className=\"popup__form\" method=\"get\" action=\"index.js\" name={name} onSubmit={onSubmit}>\r\n            <h2 className=\"popup__title\">{title}</h2>\r\n            {children}\r\n            <button className=\"popup__button-save\" type=\"submit\">{buttonTitle}</button>\r\n          </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function EditProfilePopup({isOpen, onClose, ...props}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [desc, setDesc] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser ? currentUser.name : \"\");\r\n    setDesc(currentUser ? currentUser.desc : \"\");\r\n  }, [currentUser]);\r\n\r\n  function handleNameChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n  \r\n  function handleDescChange(event) {\r\n    setDesc(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      desc\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"who_form\" \r\n      title=\"Редактировать профиль\" \r\n      isOpen={isOpen}\r\n      buttonTitle=\"Сохранить\"\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}>\r\n      <input value={name} onChange={handleNameChange} id=\"who-title\" className=\"popup__input\" type=\"text\" name=\"who_title\" minLength=\"2\" maxLength=\"40\" required placeholder=\"Ваше имя\"/>\r\n      <span id=\"who-title-error\" className=\"popup__input-error\"></span>\r\n      <input value={desc} onChange={handleDescChange} id=\"who-subtitle\" className=\"popup__input\" type=\"text\" name=\"who_subtitle\" minLength=\"2\" maxLength=\"200\" required placeholder=\"Ваше призвание\"/>\r\n      <span id=\"who-subtitle-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup({isOpen, onClose, ...props}) {\r\n  const picRef = React.useRef();\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n  \r\n    props.onUpdatePic(picRef.current.value);\r\n\r\n    picRef.current.value = \"\";\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"who_eddit_form\" \r\n      title=\"Обновить аватар\"\r\n      isOpen={isOpen}\r\n      buttonTitle=\"Сохранить\"\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}>\r\n      <input ref={picRef} id=\"who-image\" className=\"popup__input\" type=\"url\" name=\"who_image\" required placeholder=\"Ссылка на картинку\"/>\r\n      <span id=\"who-image-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup({isOpen, onClose, ...props}) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [pic, setPic] = React.useState(\"\");\r\n\r\n  function handleNameChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n  \r\n  function handlePicChange(event) {\r\n    setPic(event.target.value);\r\n  }\r\n\r\n  function handleAddPlaceSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onAddCard({\r\n      name,\r\n      pic\r\n    });\r\n\r\n    setName(\"\");\r\n    setPic(\"\");\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"post_form\" \r\n      title=\"Новое место\" \r\n      isOpen={isOpen}\r\n      buttonTitle=\"Сохранить\"\r\n      onClose={onClose}\r\n      onSubmit={handleAddPlaceSubmit}>\r\n      <input value={name} id=\"post-title\" onChange={handleNameChange} className=\"popup__input\" type=\"text\" name=\"post_title\"  minLength=\"2\" maxLength=\"30\" required placeholder=\"Название\"/>\r\n      <span id=\"post-title-error\" className=\"popup__input-error\"></span>\r\n      <input value={pic} id=\"post-image\" onChange={handlePicChange} className=\"popup__input\" type=\"url\" name=\"post_image\" required placeholder=\"Ссылка на картинку\"/>\r\n      <span id=\"post-image-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}","function ImagePopup({card, isSelected, onClose}) {\r\n\r\n  return (\r\n    <section className={`popup ${isSelected && \"popup_active\"}`}>\r\n      <div className=\"popup__image-box\">\r\n        <button className=\"popup__button-close\" type=\"button\" onClick={onClose}></button>\r\n        <figure className=\"popup__caption\">\r\n          <img src={card && card.link} alt=\"Изображение карточки\" className=\"popup__figure\"/>\r\n          <figcaption className=\"popup__caption\">\r\n            <h2 className=\"popup__caption-title\">{card && card.name}</h2>\r\n          </figcaption>\r\n        </figure>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import {apiConfig} from \"./consts\";\r\n\r\nclass Api {\r\n  constructor({baseUrl, headers}) {\r\n    this.baseUrl = baseUrl;\r\n    this.header = headers;\r\n    this.userUrl = baseUrl + \"/users/me\";\r\n    this.cardUrl = baseUrl + \"/cards\";\r\n    this.likeUrl = baseUrl + \"/cards/likes\";\r\n    this.userPicUrl = baseUrl + \"/users/me/avatar\";\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this.userUrl, {headers: this.header})\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${response.status}`);\r\n    });\r\n  }\r\n\r\n  setUserInfo({name, desc}) {\r\n    return fetch(this.userUrl, {\r\n      method: 'PATCH',\r\n      headers: this.header,\r\n      body: JSON.stringify({\r\n        name,\r\n        about: desc\r\n      })\r\n    })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${response.status}`);\r\n    });\r\n  }\r\n\r\n  setUserPic(pic) {\r\n    return fetch(this.userPicUrl, {\r\n      method: 'PATCH',\r\n      headers: this.header,\r\n      body: JSON.stringify({\r\n        avatar: pic\r\n      })\r\n    })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${response.status}`);\r\n    });\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(this.cardUrl, {headers: this.header})\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${response.status}`);\r\n      });\r\n  }\r\n\r\n  setCard(name, pic) {\r\n    return fetch(this.cardUrl, {\r\n      method: 'POST',\r\n      headers: this.header,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: pic\r\n      })\r\n    })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${response.status}`);\r\n    });\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(this.cardUrl + \"/\" + id, {\r\n      method: 'DELETE',\r\n      headers: this.header\r\n    })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${response.status}`);\r\n    });\r\n  }\r\n\r\n  likeCard(id, isLiked) {\r\n    return fetch(this.likeUrl + \"/\" + id, {\r\n      method: !isLiked ? 'PUT' : 'DELETE',\r\n      headers: this.header\r\n    })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${response.status}`);\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api(apiConfig);\r\n\r\nexport default api;","export const validationConfig = {\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__button-save',\r\n  inactiveButtonClass: 'popup__button-save_inactive',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__input-error_active'\r\n}\r\n\r\nexport const saveStates = {\r\n    saved: \"Сохранить\",\r\n    saving: \"Сохранение...\"\r\n  }\r\n\r\nexport const userConfgig = {\r\n  titleSelector: \".who__title\", \r\n  subtitleSelector: \".who__subtitle\", \r\n  figureSelector: \".who__figure\",\r\n}\r\n\r\nexport const userPopupConfgig = {\r\n  selector: \"#who-eddit-popup\", \r\n  openSelector: \".who__figure\",  \r\n}\r\n\r\nexport const postPopupConfgig = {\r\n  selector: \"#post-popup\", \r\n  openSelector: \".who__button-add\",  \r\n}\r\n\r\nexport const postDeletePopupConfgig = {\r\n  selector: \"#image-delete-popup\", \r\n  openSelector: \".post__button-remove\",  \r\n}\r\n\r\nexport const whoPopupConfgig = {\r\n  selector: \"#who-popup\", \r\n  openSelector: \".who__button-eddit\",  \r\n}\r\n\r\nexport const listnersConfig = {\r\n  openEditFormButton: \".who__button-eddit\",\r\n  openAddFormButton: \".who__button-add\",\r\n  openFigureEdditFormButton: \".who__figure-eddit\",\r\n}\r\n\r\nexport const postSelectot = \"#post\";\r\nexport const imagePopupSelector = \"#image-popup\";\r\n\r\nexport const apiConfig = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-18',\r\n  headers: {\r\n    authorization: '0b2a6fdf-1704-45fb-a35d-1d4f050e76e7',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\nexport const additionalPopupSelectors = {\r\n    popup: \"popup\",\r\n    activePopup: \"popup_active\",\r\n    deletePopup: \"#image-delete-popup\"\r\n}\r\n\r\nexport const figureAlt = \"Изображение\";\r\n\r\nexport const cardsContainer = \".posts__box\";","import React from \"react\";\r\n\r\nexport const CardsContext = React.createContext();","import React from 'react';\r\nimport '../index.css';\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\nimport {CardsContext} from \"../contexts/CardsContext\";\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(undefined);\r\n  const [isSelected, setIsSelected] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState();\r\n  const [cards, setCards] = React.useState();\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  \r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  \r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setIsSelected(true);\r\n    setSelectedCard(card);\r\n  }\r\n  \r\n  function handleDeletePlaceClick() {\r\n    setIsDeletePlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsDeletePlacePopupOpen(false);\r\n    setIsSelected(false);\r\n  }\r\n\r\n  function handleUpdateUser(user) {\r\n    api.setUserInfo(user)\r\n      .then((response) => {\r\n        setCurrentUser({\r\n          key: response._id,\r\n          name: response.name,\r\n          desc: response.about,\r\n          pic: response.avatar\r\n        });\r\n        closeAllPopups();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        setCurrentUser({\r\n          key: \"0\",\r\n          name: \"BIG BADABOOM\",\r\n          desc: \"SORRY, BUT WE HAVE SOME TROUBLES.\",\r\n          pic: \"https://s5o.ru/storage/simple/cyber/edt/d1/d9/85/c0/cyberea2fce3ee29.jpg\"\r\n        });\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(pic) {\r\n    api.setUserPic(pic)\r\n      .then((response) => {\r\n        setCurrentUser({\r\n          key: response._id,\r\n          name: response.name,\r\n          desc: response.about,\r\n          pic: response.avatar\r\n        });\r\n        closeAllPopups();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        setCurrentUser({\r\n          key: \"0\",\r\n          name: \"BIG BADABOOM\",\r\n          desc: \"SORRY, BUT WE HAVE SOME TROUBLES.\",\r\n          pic: \"https://s5o.ru/storage/simple/cyber/edt/d1/d9/85/c0/cyberea2fce3ee29.jpg\"\r\n        });\r\n      });\r\n  }\r\n\r\n  function handleAddCard({name, pic}) {\r\n    api.setCard(name, pic)\r\n      .then((response) => {\r\n          setCards([response, ...cards]);\r\n          closeAllPopups();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    api.likeCard(card._id, card.likes.some(item => item._id === currentUser.key))\r\n      .then(response => {\r\n        setCards(cards.map(item => {\r\n          return item._id === response._id ? response : item;\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n      .then(response => {\r\n        setCards(cards.filter(item => {\r\n          return item._id !== card._id;\r\n        }));\r\n        closeAllPopups();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getCards()])\r\n      .then(response => {\r\n        setCurrentUser({\r\n          key: response[0]._id,\r\n          name: response[0].name,\r\n          desc: response[0].about,\r\n          pic: response[0].avatar\r\n        });\r\n        setCards(response[1]);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        setCurrentUser({\r\n          key: \"0\",\r\n          name: \"BIG BADABOOM\",\r\n          desc: \"SORRY, BUT WE HAVE SOME TROUBLES.\",\r\n          pic: \"https://s5o.ru/storage/simple/cyber/edt/d1/d9/85/c0/cyberea2fce3ee29.jpg\"\r\n        });\r\n        setCards([]);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <CardsContext.Provider value={cards}>\r\n        <div className=\"page\">\r\n          <div className=\"page__box\">\r\n            <Header/>\r\n            <Main \r\n              onEditAvatar={handleEditAvatarClick} \r\n              onEditProfile={handleEditProfileClick} \r\n              onAddPlace={handleAddPlaceClick} \r\n              onDeletePlace={handleDeletePlaceClick} \r\n              onCardClick={handleCardClick} \r\n              setCards={setCards}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}/>\r\n            <Footer/>\r\n          </div>\r\n\r\n          <EditAvatarPopup \r\n            isOpen={isEditAvatarPopupOpen} \r\n            onClose={closeAllPopups}\r\n            onUpdatePic={handleUpdateAvatar}/> \r\n\r\n          <EditProfilePopup \r\n            isOpen={isEditProfilePopupOpen} \r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}/> \r\n\r\n          <AddPlacePopup \r\n            isOpen={isAddPlacePopupOpen} \r\n            onClose={closeAllPopups}\r\n            onAddCard={handleAddCard}/> \r\n\r\n          <PopupWithForm\r\n            name=\"post_form\" \r\n            title=\"Вы уверены?\" \r\n            isOpen={isDeletePlacePopupOpen}\r\n            buttonTitle=\"Да\"\r\n            onClose={closeAllPopups}/>\r\n      \r\n          <ImagePopup\r\n            card={selectedCard}\r\n            isSelected={isSelected}\r\n            onClose={closeAllPopups}\r\n          />\r\n        </div>\r\n      </CardsContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}